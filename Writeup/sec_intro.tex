	%!TEX root = main_vldb.tex


We consider the problem of fast computation of constrained shortest paths in large-scale graphs, using preprocessing and graph augmentation techniques.
The Shortest-path (SP) computation problem is one of the canonical algorithm design problems.
In recent years, however, it has been revolutionized both in terms of academic research as well as real-world applications (cf.~\cite{dimacs09,goldberg_survey} for surveys).
In particular, the use of preprocessing techniques and network augmentation has led to dramatic improvements in the speed and scalability of SP computation in road networks.
These techniques however do not extend to constrained shortest-path (CSP) computations, and our work aims to bridge this gap.


The SP and CSP problems can be summarized as follows: We are given a graph $G$, where each edge has an associated \emph{length} and \emph{cost}. 
Now, given any two nodes $s,t$, the SP problem requires finding an  $s\rightarrow t$ path of minimum length; the CSP problem takes in a further input of a budget $b$, and requires finding a minimum length $s\rightarrow t$ path \emph{which moreover has a total cost less than $b$}.
The two problems, though similar, have very different basic complexity: SP computation admits a polynomial-time algorithm (in particular, the famous Dijkstra's algorithm), while the problem of CSP computation is known to be NP-Hard~\cite{csp_survey}.
A dynamic programming approach can compute the shortest path in pseudo-polynomial time, which is the best bound known so far \todo{add reference}.


Our interest in CSP computation is motivated primarily by the requirements of modern transportation platforms. 
which are necessary in order to provide accurate and robust routing and travel-time estimates, which incorporate uncertainties in travel times.



In the face of uncertainty, a natural problem is to compute the shortest path subject to a reliability constraint.
We want to estimate how much time it will take to travel from $s$ to $t$, but, for the answer to be robust, we ask that the path exceeds the estimate with small probability.
Formally, given $s,t$ and parameters $p,\delta$, the goal is to find an $(s,t)$-path $P$ minimizing $\E(\ell(P))$, but satisfying $\Pr(\ell(P)>\E(\ell(P))+\delta)\leq p$.
This is a variant of the stochastic on time arrival (SOTA) problem \cite{fan2005arriving}.
We propose an approximate solution, which respects the reliability, but may not be optimal.
Observe that, using Chebyshov's Inequality, $\Pr(X>\E(X)+\delta)\leq \Var(X)/\delta^2$, hence we can solve
the problem 
\[
\min_{ P\in\calP_{s,t}}\sum_{i\in P}\mu_i \qquad \text{s.t.}\qquad \sum_{i\in P}\sigma^2_i\leq \delta^2p.
\]


The CSP can also capture other natural problems in transit networks.
Consider the case where each edge has a probability $p_e$ of triggering a bad event, which results in a fee of $F$.
In this case the agents want to minimize the travel cost and the expected fee.
For example, \citet{fareevasion} consider a model for fare evasion where $p_e$ is the probability of encountering an inspector.
In this case, assuming independence, the natural object is to minimize $\ell(P)+F\cdot\Pr(\text{trigger bad event})$, i.e.,
\[
\min_{P\in\calP_{s,t}} \ell(P)+F\Bigl(1-\prod_{e\in P}(1-p_e)\Bigr).
\]
In \citep{fareevasion} it is suggested to use a CSP to solve this problem.
Indeed, after taking logarithms, the non-linear part of the objective function becomes a linear constraint.

The concept of Highway Dimension (HD) \cite{highway2010,highway2013} allows to prove the efficiency of shortest path computations in undirected graphs.
We will see that directed graphs are fundamental for the analysis of constrained paths.
As a first step, we extend the notions of HD to directed graphs.

\subsection{Our Contributions}


\subsection{Related work}

Bicriteria with augmented graph and robot applications \cite{alex_bicriteria}

Introduced hub labels\cite{cohen_definition_hl}

Survey on shortest path algorithms \cite{goldberg_survey}

Bounds for hub labels in different classes of graphs. 
Show that there exists a hierarchichal hub label meeting the bound of HD \cite{babenko_hl_complexity}

Shows that the lower bounds of the HL size, given by the HD, is tight for a family of graphs \cite{white_complexity_hd}

Introduce a class of restrictions as label constraints \cite{language_csp}

For a restricted language, it is possible to use CH for the problem \cite{rice_csp}

Skeleton dimension \cite{skeleton}

Survey on CSP \cite{csp_survey}

SOTA problem with gaussian travel times solved by exhaustive search \cite{nikolova_gaussian}, optimal policy \cite{samaranayake2012speedup}, pre-processing \cite{sabran2014precomputation} anb solved with discretization for directed acyclic graphs \cite{nikolova_discretization}